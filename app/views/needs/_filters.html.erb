  <section class="filters">

    <% if params[:user_id] || params[:status] || params[:category] || params[:is_urgent] %>
        <%= link_to "Clear filters", root_path, class: "button button--dark"%>
        <div class="filters__content">
    <% else %>
        <button id="needs-filters" class="button button--dark filters__controls" aria-expanded="false">Filters</button>
        <div class="filters__content" hidden>
    <% end %>
        <%= form_with(url: root_path, method: :get, local: true, class: "filters__form") do %>
          <label for="user_id" class="visually-hidden">By assigned user</label>
          <%= select_tag("user_id", content_tag(:option,'Unassigned',:value => "Unassigned", :selected => params["user_id"] == "Unassigned") + options_from_collection_for_select(@users, :id, :name_or_email, :selected => params['user_id']), prompt: 'All users', class: "filters__select dropdown") %>

          <label for="role_id" class="visually-hidden">By assigned team</label>
          <%= select_tag("role_id", content_tag(:option,'Unassigned',:value => "Unassigned", :selected => params["role_id"] == "Unassigned") + options_from_collection_for_select(@roles, :id, :name, :selected => params['role_id']), prompt: 'All teams', class: "filters__select dropdown") %>

          <label for="category" class="visually-hidden">By category</label>
          <%= select_tag("category", options_for_select(Need.categories, :selected => params["category"]), prompt: 'All categories', class: "filters__select dropdown") %>
        
          <label for="status" class="visually-hidden">By status</label>
          <%= select_tag("status", options_for_select(need_statuses, :selected => params["status"]), prompt: 'All statuses', class: "filters__select dropdown") %>

          <label for="is_urgent" class="visually-hidden">By priority</label>
          <%= select_tag("is_urgent", options_for_select(need_urgencies, :selected => get_param_capitalized('is_urgent')), prompt: 'All priorities', class: "filters__select dropdown") %>
        <% end %>
    </div>
</section>